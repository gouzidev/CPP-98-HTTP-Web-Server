<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Single Raw File Upload → /upload</title>
  <style>
    body { font-family: system-ui, sans-serif; background:#f6f8fb; padding:40px }
    .card { background:#fff;border:1px solid #e6e9ef;border-radius:12px; padding:24px; max-width:600px; margin:0 auto; box-shadow:0 6px 14px rgba(0,0,0,.05) }
    input, button { width:100%; padding:10px; margin:6px 0; border-radius:8px; border:1px solid #d9dee7 }
    button { background:#0d9488; color:#fff; border:none; cursor:pointer }
    pre { white-space:pre-wrap; background:#f0f3f9; padding:12px; border-radius:8px; border:1px solid #e6e9ef }
  </style>
</head>
<body>
  <div class="card">
    <h2>Single Raw File Upload (POST /post/files)</h2>
    <input type="file" id="singleFile" />
    <button id="sendBtn">Send File</button>
    <pre id="out">Response will appear here…</pre>
  </div>
  <script>
    const $ = sel => document.querySelector(sel);
    $('#sendBtn').addEventListener('click', async () => {
      const f = $('#singleFile').files[0];
      if (!f) { alert('Pick a file'); return; }
      try {
        const res = await fetch('/upload', {
          method: 'POST',
          headers: { 'Content-Type': f.type || 'application/octet-stream' },
          body: f
        });
        const text = await res.text();
        $('#out').textContent = `Status: ${res.status}\n\n${text}`;
      } catch (e) {
        $('#out').textContent = 'Error: ' + e.message;
      }
    });
  </script>
</body>
</html>
